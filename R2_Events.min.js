var evt_origin=function(){var a={};return{on:function(b,c){"undefined"==typeof a[b]&&(a[b]=[]);a[b]=c},trigger:function(b,c){if("undefined"!=typeof a[b])a[b]({},c)},get_listeners:function(){return a}}}(),evt_attach=function(){return function(a,b){evt_origin.on(a,b)}}(),evt_trigger=function(){return function(a,b){evt_origin.trigger(a,b)}}(),tpl_load=function(){function a(a){if("undefined"!=typeof b[a])console.log("Called cache::",typeof b[a]),evt_trigger(a,a);else{var c=url_+"templates/"+a.split(".").join("/")+
".html";$.ajax({url:c,type:"get",success:function(c){b[a]=c;evt_trigger(a,a)}})}}var b={};a.get_template=function(a){return b[a]};return a}(),tpl_get=tpl_load,evt_ajax_call=function(){return function(a){$.ajax({url:a.url+a.url_part,type:a.type||"post",success:function(b){evt_trigger(a.url,b)}})}}(),evt_route_listener=function(){return function(a){}}(),mod_use=function(){var a={};return function(b,c){a[b]?evt_trigger(b,c):$.ajax({url:url_+"modules/"+b.split(".").join("/")+".js",type:"get",success:function(d){a[b]=
1;(new Function("","(function(){"+d+"})();"))();evt_trigger(b,c)}})}}(),tpl_parse=function(){return function(a,b){var c=a;$.each(b,function(a,b){c=c.split("{"+a+"}").join(b)});return c}}(),views_use_tpl=function(a,b){return function(){evt_attach(a,b);tpl_load(a)}},views_use=function(a,b){var c=views_use_tpl(a[0],b);$.each(a,function(a,b){0<a&&(c=views_use_tpl(b,c))});c()},mods_use_tpl=function(a,b){return function(){evt_attach(a,b);mod_use(a)}},mods_use=function(a,b){var c=mods_use_tpl(a[0],b);$.each(a,
function(a,b){0<a&&(c=mods_use_tpl(b,c))});c()},comp_use=function(a){views_use(a.views,function(){mods_use(a.modules,function(){a.cb()})})};evt_attach("img.render",function(){$("[data-src]").each(function(){if(!$(this).data("data-src")){var a=$(this).data("src");$(this).attr("src",url_+a);$(this).data("data-src",1)}})});
evt_attach("data.validate",function(a,b){$("[data-validate]").each(function(){var a=$(this).data("validate"),d=$(this).val();"required"==a?""==d?(b.errors.push({$el:$(this),msg:"Required"}),$el.css("border","2px solid red")):$el.css("border","2px solid #eee"):"number"==a?isNaN(d)?(b.errors.push({$el:$(this),msg:"Number Required"}),$el.css("border","2px solid red")):$el.css("border","2px solid #eee"):"email"==a&&(1>=d.split("@").length?(b.errors.push({$el:$(this),msg:"E-mail Required"}),$el.css("border",
"2px solid red")):$el.css("border","2px solid #eee"))})});evt_attach("data-collect",function(a,b){b.$el.find("[data-name]").each(function(){var a=$(this).data("name"),d=$(this).val();b.data[a]=d})});evt_attach("data-disperse",function(a,b){$.each(b.data,function(a,d){b.$el.append('<input type="hidden" name="'+a+'" value="'+d+'" />')})});evt_attach("data-fill",function(a,b){$.each(b.data,function(a,b){$("[data-name="+a+"]").val(b)})});
